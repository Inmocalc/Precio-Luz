import"./styles.a4c63ff9.js";import{d as g}from"./omie_compensacion_data.428777e6.js";import{d as l}from"./omie_data.e85400b9.js";import{t as i,b as d,w as _}from"./table.80c4a304.js";import{l as s}from"./line_chart.3d6c4237.js";let a=new Date().getHours(),r=new Date().getMinutes();a=a<10?`0${a}`:a;r=r<10?`0${r}`:r;const h=845,n=new Date;n.setDate(n.getDate()+1);const y={weekday:"long",month:"long",day:"numeric"},u=+l[0].day,b=+l[0].month,f=a*60+ +r>=h&&a<24;let e=g.map(({precio:t,hora:o,dia:p})=>({day:p,hour:o,price:t}));e=e.filter(({price:t})=>t);document.getElementById("table-next-day-data");e=e.sort(({price:t},{price:o})=>t-o);e=e.map(({price:t,...o})=>({price:t.toFixed(3),...o}));for(let[t,o]of e.entries())t<8?o.zone="valle":t>=8&&t<16?o.zone="llano":o.zone="punta";const m=document.querySelector(".table-next-day"),x=u===n.getDate()&&b===n.getMonth()+1;if(f&&x)m.style.display="grid";else{const t=document.getElementById("warning-tomorrow-data");t.textContent=`Todav\xEDa no hay datos disponibles para ma\xF1ana: ${n.toLocaleDateString("es-ES",y)}`,m.style.display="none"}c();function c(){e=e.sort(({price:t},{price:o})=>t-o),i(e.slice(0,12),".table-next-day-grid-left",!0),i(e.slice(12,24),".table-next-day-grid-right",!0)}function w(){e=e.sort(({hour:t},{hour:o})=>t-o),i(e.slice(0,12),".table-next-day-grid-left",!0),i(e.slice(12,24),".table-next-day-grid-right",!0)}document.getElementById("order-price-next").addEventListener("click",()=>{d(),c()});document.getElementById("order-hour-next").addEventListener("click",()=>{d(),w()});const E={html_element:"day-price-gas",x_axis_prop:"date",y_axis_prop:"price",select_html:!1,margin:{top:16,right:16,bottom:24,left:_<763?76:96}},D={html_element:"hour-price-gas",x_axis_prop:"dia",y_axis_prop:"precio",select_html:!1,margin:{top:16,right:16,bottom:24,left:_<763?76:96}},v={html_element:"month-price-gas",x_axis_prop:"date",y_axis_prop:"averagePrice",select_html:!1,margin:{top:16,right:16,bottom:24,left:_<763?76:96}};s("/data/omie_compensacion_data_by_day.json",E);s("/data/omie_compensacion_data_by_month.json",v);s("/data/historic_compensacion_gas.json",D);
