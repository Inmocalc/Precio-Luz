import"./styles.a4c63ff9.js";import{d as v}from"./omie_data.e85400b9.js";import{d as g}from"./tomorrow_price.43e27c55.js";import{d as C,r as D,g as s,a as p,t as u,b as E,c as y}from"./table.80c4a304.js";const T=[{day:"30/08/2022",hour:0,price:.643,zone:"valle"},{day:"30/08/2022",hour:1,price:.669,zone:"valle"},{day:"30/08/2022",hour:2,price:.687,zone:"valle"},{day:"30/08/2022",hour:3,price:.699,zone:"valle"},{day:"30/08/2022",hour:4,price:.712,zone:"valle"},{day:"30/08/2022",hour:5,price:.697,zone:"valle"},{day:"30/08/2022",hour:6,price:.665,zone:"valle"},{day:"30/08/2022",hour:7,price:.637,zone:"valle"},{day:"30/08/2022",hour:8,price:.637,zone:"llano"},{day:"30/08/2022",hour:9,price:.577,zone:"llano"},{day:"30/08/2022",hour:10,price:.572,zone:"punta"},{day:"30/08/2022",hour:11,price:.54,zone:"punta"},{day:"30/08/2022",hour:12,price:.518,zone:"punta"},{day:"30/08/2022",hour:13,price:.509,zone:"punta"},{day:"30/08/2022",hour:14,price:.45,zone:"llano"},{day:"30/08/2022",hour:15,price:.433,zone:"llano"},{day:"30/08/2022",hour:16,price:.437,zone:"llano"},{day:"30/08/2022",hour:17,price:.455,zone:"llano"},{day:"30/08/2022",hour:18,price:.528,zone:"punta"},{day:"30/08/2022",hour:19,price:.59,zone:"punta"},{day:"30/08/2022",hour:20,price:.627,zone:"punta"},{day:"30/08/2022",hour:21,price:.623,zone:"punta"},{day:"30/08/2022",hour:22,price:.593,zone:"llano"},{day:"30/08/2022",hour:23,price:.623,zone:"llano"}],L=[{day:"30/08/2022",hour:0,price:.643,zone:"valle"},{day:"30/08/2022",hour:1,price:.669,zone:"valle"},{day:"30/08/2022",hour:2,price:.687,zone:"valle"},{day:"30/08/2022",hour:3,price:.699,zone:"valle"},{day:"30/08/2022",hour:4,price:.712,zone:"valle"},{day:"30/08/2022",hour:5,price:.697,zone:"valle"},{day:"30/08/2022",hour:6,price:.665,zone:"valle"},{day:"30/08/2022",hour:7,price:.637,zone:"valle"},{day:"30/08/2022",hour:8,price:.637,zone:"llano"},{day:"30/08/2022",hour:9,price:.577,zone:"llano"},{day:"30/08/2022",hour:10,price:.572,zone:"punta"},{day:"30/08/2022",hour:11,price:.54,zone:"punta"},{day:"30/08/2022",hour:12,price:.518,zone:"punta"},{day:"30/08/2022",hour:13,price:.509,zone:"punta"},{day:"30/08/2022",hour:14,price:.45,zone:"llano"},{day:"30/08/2022",hour:15,price:.433,zone:"llano"},{day:"30/08/2022",hour:16,price:.437,zone:"llano"},{day:"30/08/2022",hour:17,price:.455,zone:"llano"},{day:"30/08/2022",hour:18,price:.528,zone:"punta"},{day:"30/08/2022",hour:19,price:.59,zone:"punta"},{day:"30/08/2022",hour:20,price:.627,zone:"punta"},{day:"30/08/2022",hour:21,price:.623,zone:"punta"},{day:"30/08/2022",hour:22,price:.593,zone:"llano"},{day:"30/08/2022",hour:23,price:.623,zone:"llano"}],P={weekday:"long",month:"long",day:"numeric"},A=Intl.DateTimeFormat().resolvedOptions().timeZone;let o=new Date().getHours(),a=new Date().getMinutes(),$=new Date;C[$.getDay()];const S=A==="Atlantic/Canary"&&o>22&&o<24;let w=S?L:T;const[{price:x}]=w.filter(({hour:e})=>+e==o);o=o<10?`0${o}`:o;a=a<10?`0${a}`:a;const F=document.getElementById("price"),N=document.getElementById("hours"),M=document.getElementById("minutes");F.textContent=`${x.toFixed(3)}`;N.textContent=o;M.textContent=a;const h=document.getElementsByTagName("main")[0],m=document.getElementsByTagName("nav")[0];D(a);const H=w.map(({hour:e,price:t,...d})=>({hourHasPassed:+e<o,price:t.toFixed(3),hour:e,...d}));let n=H.sort(({price:e},{price:t})=>e-t);for(let[e,t]of n.entries())e<8?t.zone="valle":e>=8&&e<16?t.zone="llano":t.zone="punta";const[{zone:c}]=n.filter(({hour:e})=>e==o);h.style.backgroundColor=s(c);m.style.backgroundColor=s(c);let z;function k(){n=n.sort(({price:e},{price:t})=>e-t),y(n.slice(0,12),".container-table-price-left"),y(n.slice(12,24),".container-table-price-right"),z="price"}function b(){n=n.sort(({hour:e},{hour:t})=>e-t),y(n.slice(0,12),".container-table-price-left"),y(n.slice(12,24),".container-table-price-right"),z="hour"}b();document.getElementById("order-price").addEventListener("click",()=>{p(),k()});document.getElementById("order-hour").addEventListener("click",()=>{p(),b()});let r=g.sort(({price:e},{price:t})=>e-t);const f=document.querySelector(".table-next-day");r=r.map(({price:e,...t})=>({price:e.toFixed(3),...t}));for(let[e,t]of r.entries())e<8?t.zone="valle":e>=8&&e<16?t.zone="llano":t.zone="punta";const I=1220,O=790,l=new Date;l.setDate(l.getDate()+1);const R=+v[0].day,U=+v[0].month,W=+g[0].day.split("/")[0],Y=+g[0].day.split("/")[1],q=o*60+ +a>=I&&o<24,G=o*60+ +a>=O&&o*60<I,Q=R===l.getDate()&&U===l.getMonth()+1,V=W===l.getDate()&&Y===l.getMonth()+1,_=document.getElementById("button-prices-next-day");G&&Q?(_.style.display="inline-block",_.textContent=`Ya est\xE1n disponibles los precios de la luz para ma\xF1ana, ${l.toLocaleDateString("es-ES",P)}`):_.style.display="none";q&&V?(f.style.display="grid",B()):f.style.display="none";function B(){r=r.sort(({price:e},{price:t})=>e-t),u(r.slice(0,12),".table-next-day-grid-left"),u(r.slice(12,24),".table-next-day-grid-right")}function Z(){r=r.sort(({hour:e},{hour:t})=>e-t),u(r.slice(0,12),".table-next-day-grid-left"),u(r.slice(12,24),".table-next-day-grid-right")}document.getElementById("order-price-next").addEventListener("click",()=>{E(),B()});document.getElementById("order-hour-next").addEventListener("click",()=>{E(),Z()});document.getElementById("checkbox-hours").addEventListener("change",()=>{z==="price"?(p(),k()):(p(),b())});const j=`whatsapp://send?text=El precio de la luz a las ${o}:${a} es de ${x.toFixed(3)} \u20AC/kWh https://www.apaga-luz.com/?utm_source=whatsapp`,J=document.getElementById("btn-whatsapp");J.href=j;let i=document.documentElement;document.getElementById("color-blindness").addEventListener("change",e=>{const{target:{checked:t}}=e;if(t){i.style.setProperty("--orange-light","rgb(255, 176, 0)"),i.style.setProperty("--green-light","rgb(100, 143, 255)"),i.style.setProperty("--red-light","rgb(220, 38, 127)");const d=c==="VALLE"?"rgb(100, 143, 255)":c==="llano"?"rgb(255, 176, 0)":"rgb(220, 38, 127)";h.style.backgroundColor=d,m.style.backgroundColor=d}else i.style.setProperty("--orange-light","#ffae3ab3"),i.style.setProperty("--green-light","#a2fcc1b3"),i.style.setProperty("--red-light","#ec1d2fb3"),h.style.backgroundColor=s(c),m.style.backgroundColor=s(c)});
