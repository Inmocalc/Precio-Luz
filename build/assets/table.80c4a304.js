function w(t){const n=60-t,i=((m,d,p)=>(m*60*60+d*60+p)*1e3)(0,n,0);setTimeout(()=>{location.reload()},i)}const C=t=>t==="valle"?"#a2fcc1":t==="llano"?"#ffae3a":"#ec1d2f",$=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],S=["lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado","domingo"],v=["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],g=window.innerWidth>0?window.innerWidth:screen.width;function x(t,n,u){let i;u==="year"?(t.forEach(e=>{e.year=+e.dia.split("/")[2]}),i=t.sort((e,o)=>e.year-o.year)):i=t.sort((e,o)=>new Date(e.dia)-new Date(o.dia));const m=document.createElement("table");m.classList.add("table-same-day");const d=m.createTHead().insertRow();d.classList.add("header-same-day");const p=[...new Set(i.map(({dia:e})=>e))];p.unshift("Hora"),p.map((e,o)=>{if(e==="Hora"&&(d.insertCell(o).innerText=e),e!=="Hora"&&u==="day"){const a=`${e.split("/")[0]}/${e.split("/")[1]}/${e.split("/")[2]}`;d.insertCell(o).innerText=a}e!=="Hora"&&u==="year"&&(d.insertCell(o).innerText=e.split("/")[2])});const h=document.createElement("tbody");if(h.classList.add("tbody-same-day"),m.appendChild(h),[...new Set(i.map(({hora:e})=>e))].forEach(e=>{let o=i.filter(({hora:s})=>s===e);const a=h.insertRow();a.classList.add("row-same-day"),a.insertCell(0).innerText=`${o[0].hora.split("-")[0]}:00`;const r=Math.max(...o.map(({precio:s})=>s)),l=Math.min(...o.map(({precio:s})=>s));o.map(({precio:s,dia:f},b)=>{const c=a.insertCell(b+1);c.innerText=`${(s/1e3).toFixed(3)} \u20AC`,f!=="Hora"&&u==="day"&&`${f.split("/")[1]}${f.split("/")[0]}${f.split("/")[2]}`,s===r&&(c.style.backgroundColor="var(--red-light)",c.style.fontWeight="bold"),s===l&&(c.style.fontWeight="bold",c.style.backgroundColor="var(--green-light)")})}),document.getElementById(n).appendChild(m),g>763){const e=(r,l)=>r.children[l].innerText||r.children[l].textContent,o=(r,l)=>(s,f)=>((b,c)=>b!==""&&c!==""&&!isNaN(b)&&!isNaN(c)?b-c:b.toString().localeCompare(c))(e(l?s:f,r),e(l?f:s,r));let a=!0;document.querySelectorAll(`#${n} table .header-same-day td`).forEach(r=>r.addEventListener("click",l=>{const{target:s}=l;y(a,s);const b=r.closest("table").querySelector("tbody");Array.from(b.querySelectorAll("tr")).sort(o(Array.from(r.parentNode.children).indexOf(r),a=!a)).forEach(c=>b.appendChild(c))}))}function y(e,o){document.querySelectorAll(`#${n} table .header-same-day td`).forEach(r=>r.classList.remove("sorted-down","sorted-up"));const a=e?"sorted-up":"sorted-down";o.classList.add(a)}}function E(t,n,u=!1){const i=document.querySelector(".table-next-day"),m=document.querySelector(n);let d;const p=new Date,h=new Date(p);h.setDate(h.getDate()+1);const _={weekday:"long",month:"long",day:"numeric"},y=u?"Compensaci\xF3n gas":"luz";document.querySelector(".container-table-next-day-title")||(d=`<summary><h2 class="container-table-next-day-title"><span style="font-weight: normal; pointer-events:none;">El precio de la ${y} ma\xF1ana</span> ${h.toLocaleDateString("es-ES",_)}</h2></summary>`,i.insertAdjacentHTML("afterbegin",d));for(let e of t){const{price:o,hour:a,zone:r}=e,l=a<10?`0${a}:00`:`${a}:00`,s=`<div class="container-table-price-element">
      <span class="container-table-price-element-hour ${r}">
        ${l}
      </span>
      <span class="container-table-price-element-price">
        ${o} \u20AC kWh
      </span>
    </div>`;m.insertAdjacentHTML("beforeend",s)}}function k(){const t=document.querySelector(".container-table-price-left"),n=document.querySelector(".container-table-price-right");for(;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)n.removeChild(n.firstChild)}function q(){const t=document.querySelector(".table-next-day-grid-left"),n=document.querySelector(".table-next-day-grid-right");for(;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)n.removeChild(n.firstChild)}function L(t,n){const u=document.querySelector(n),i=document.getElementById("checkbox-hours").checked,m=new Date,d={weekday:"long",month:"long",day:"numeric"},p=document.getElementById("section-subtitle-date");p.textContent=`${m.toLocaleDateString("es-ES",d)}`;for(let h of t){const{price:_,hour:y,zone:e,hourHasPassed:o}=h,a=y<10?`0${y}:00`:`${y}:00`,l=`<div class="${o&&i?"element-hour-disabled":""} container-table-price-element">
      <span class="container-table-price-element-hour ${e}">
        ${a}
      </span>
      <span class="container-table-price-element-price">
        ${_} \u20AC kWh
      </span>
    </div>`;u.insertAdjacentHTML("beforeend",l)}}export{k as a,q as b,L as c,v as d,S as e,x as f,C as g,$ as m,w as r,E as t,g as w};
