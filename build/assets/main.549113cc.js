import"./styles.a4c63ff9.js";import{d as B}from"./omie_data.2e9c4f92.js";import{d as x,s as S}from"./modal.85f846f2.js";import{d as W,r as M,i as n,g as h,a as _,t as y,b as $,c as g}from"./table.8b47a673.js";const H=[{day:"19/06/2024",hour:0,price:.141,zone:"valle"},{day:"19/06/2024",hour:1,price:.136,zone:"valle"},{day:"19/06/2024",hour:2,price:.131,zone:"valle"},{day:"19/06/2024",hour:3,price:.125,zone:"valle"},{day:"19/06/2024",hour:4,price:.125,zone:"valle"},{day:"19/06/2024",hour:5,price:.129,zone:"valle"},{day:"19/06/2024",hour:6,price:.134,zone:"valle"},{day:"19/06/2024",hour:7,price:.179,zone:"valle"},{day:"19/06/2024",hour:8,price:.184,zone:"llano"},{day:"19/06/2024",hour:9,price:.166,zone:"llano"},{day:"19/06/2024",hour:10,price:.183,zone:"punta"},{day:"19/06/2024",hour:11,price:.149,zone:"punta"},{day:"19/06/2024",hour:12,price:.144,zone:"punta"},{day:"19/06/2024",hour:13,price:.136,zone:"punta"},{day:"19/06/2024",hour:14,price:.087,zone:"llano"},{day:"19/06/2024",hour:15,price:.085,zone:"llano"},{day:"19/06/2024",hour:16,price:.085,zone:"llano"},{day:"19/06/2024",hour:17,price:.093,zone:"llano"},{day:"19/06/2024",hour:18,price:.165,zone:"punta"},{day:"19/06/2024",hour:19,price:.225,zone:"punta"},{day:"19/06/2024",hour:20,price:.22,zone:"punta"},{day:"19/06/2024",hour:21,price:.217,zone:"punta"},{day:"19/06/2024",hour:22,price:.166,zone:"llano"},{day:"19/06/2024",hour:23,price:.144,zone:"llano"}],N=[{day:"19/06/2024",hour:0,price:.141,zone:"valle"},{day:"19/06/2024",hour:1,price:.136,zone:"valle"},{day:"19/06/2024",hour:2,price:.131,zone:"valle"},{day:"19/06/2024",hour:3,price:.125,zone:"valle"},{day:"19/06/2024",hour:4,price:.125,zone:"valle"},{day:"19/06/2024",hour:5,price:.129,zone:"valle"},{day:"19/06/2024",hour:6,price:.134,zone:"valle"},{day:"19/06/2024",hour:7,price:.179,zone:"valle"},{day:"19/06/2024",hour:8,price:.184,zone:"llano"},{day:"19/06/2024",hour:9,price:.166,zone:"llano"},{day:"19/06/2024",hour:10,price:.183,zone:"punta"},{day:"19/06/2024",hour:11,price:.149,zone:"punta"},{day:"19/06/2024",hour:12,price:.144,zone:"punta"},{day:"19/06/2024",hour:13,price:.136,zone:"punta"},{day:"19/06/2024",hour:14,price:.087,zone:"llano"},{day:"19/06/2024",hour:15,price:.085,zone:"llano"},{day:"19/06/2024",hour:16,price:.085,zone:"llano"},{day:"19/06/2024",hour:17,price:.093,zone:"llano"},{day:"19/06/2024",hour:18,price:.165,zone:"punta"},{day:"19/06/2024",hour:19,price:.225,zone:"punta"},{day:"19/06/2024",hour:20,price:.22,zone:"punta"},{day:"19/06/2024",hour:21,price:.217,zone:"punta"},{day:"19/06/2024",hour:22,price:.166,zone:"llano"},{day:"19/06/2024",hour:23,price:.144,zone:"llano"}],A={weekday:"long",month:"long",day:"numeric"},j=Intl.DateTimeFormat().resolvedOptions().timeZone;let o=new Date().getHours(),l=new Date().getMinutes(),i=new Date;W[i.getDay()];const q=j==="Atlantic/Canary"&&o>22&&o<24;let T=q?N:H;const[{price:D}]=T.filter(({hour:t})=>+t==o);o=o<10?`0${o}`:o;l=l<10?`0${l}`:l;const O=document.getElementById("price"),R=document.getElementById("hours"),U=document.getElementById("minutes");O.textContent=`${D.toFixed(3)}`;R.textContent=o;U.textContent=l;const v=document.getElementsByTagName("main")[0],E=document.getElementsByTagName("nav")[0];M(l);const G=T.map(({hour:t,price:e,...u})=>({hourHasPassed:+t<o,price:e.toFixed(3),hour:t,...u}));let r=G.sort(({price:t},{price:e})=>t-e);for(let[t,e]of r.entries())t<8?e.zone="valle":t>=8&&t<16?e.zone="llano":e.zone="punta",e.hour>=0&&e.hour<8&&!n(i)?e.tramo="valle":e.hour>=8&&e.hour<10&&!n(i)||e.hour>=14&&e.hour<18&&!n(i)||e.hour>=22&&e.hour<24&&!n(i)?e.tramo="llano":e.tramo="punta",n(i)&&(e.tramo="valle");const[{zone:d}]=r.filter(({hour:t})=>t==o);v.style.backgroundColor=h(d);E.style.backgroundColor=h(d);let w;function C(){r=r.sort(({price:t},{price:e})=>t-e),g(r.slice(0,12),".container-table-price-left"),g(r.slice(12,24),".container-table-price-right"),w="price"}function k(){r=r.sort(({hour:t},{hour:e})=>t-e),g(r.slice(0,12),".container-table-price-left"),g(r.slice(12,24),".container-table-price-right"),w="hour"}k();document.getElementById("order-price").addEventListener("click",()=>{_(),C()});document.getElementById("order-hour").addEventListener("click",()=>{_(),k()});let a=x.sort(({price:t},{price:e})=>t-e);const I=document.querySelector(".table-next-day");a=a.map(({price:t,...e})=>({price:t.toFixed(3),...e}));for(let[t,e]of a.entries())t<8?e.zone="valle":t>=8&&t<16?e.zone="llano":e.zone="punta",e.hour>=0&&e.hour<8&&!n?e.tramo="valle":e.hour>=8&&e.hour<10&&!n||e.hour>=14&&e.hour<18&&!n||e.hour>=22&&e.hour<24&&!n?e.tramo="llano":e.tramo="punta",n&&(e.tramo="valle");const F=1220,Q=790,c=new Date;c.setDate(c.getDate()+1);const V=+B[0].day,Y=+B[0].month,Z=+x[0].day.split("/")[0],J=+x[0].day.split("/")[1],K=o*60+ +l>=F&&o<24,X=o*60+ +l>=Q&&o*60<F,ee=V===c.getDate()&&Y===c.getMonth()+1,te=Z===c.getDate()&&J===c.getMonth()+1,f=document.getElementById("button-prices-next-day");X&&ee?(f.style.display="inline-block",f.textContent=`Precios de la luz por horas para: ${c.toLocaleDateString("es-ES",A)}`):f.style.display="none";K&&te?(I.style.display="grid",P()):I.style.display="none";function P(){a=a.sort(({price:t},{price:e})=>t-e),y(a.slice(0,12),".table-next-day-grid-left"),y(a.slice(12,24),".table-next-day-grid-right")}function oe(){a=a.sort(({hour:t},{hour:e})=>t-e),y(a.slice(0,12),".table-next-day-grid-left"),y(a.slice(12,24),".table-next-day-grid-right")}document.getElementById("order-price-next").addEventListener("click",()=>{$(),P()});document.getElementById("order-hour-next").addEventListener("click",()=>{$(),oe()});document.getElementById("checkbox-hours").addEventListener("change",()=>{w==="price"?(_(),C()):(_(),k())});let p=r.map(({price:t,...e})=>({price:Number(t),...e}));p=p.sort(({price:t},{price:e})=>e-t);const z=p[0],b=p[p.length-1];let m=p.map(({price:t})=>t);m=m.reduce((t,e)=>t+e,0)/m.length;const re=`<span>La hora m\xE1s cara</span> <span class="container-max-min-avg-number"> ${z.hour}:00 - ${z.price.toFixed(3)} \u20AC/kWh </span>`,ae=`<span>La hora m\xE1s barata</span> <span class="container-max-min-avg-number">${b.hour}:00 - ${b.price.toFixed(3)} \u20AC/kWh</span>`,ne=`<span>El precio medio del d\xEDa</span> <span class="container-max-min-avg-number">${m.toFixed(3)} \u20AC/kWh</span>`;document.getElementById("contanier-avg-price").insertAdjacentHTML("beforeend",ne);document.getElementById("contanier-min-price").insertAdjacentHTML("beforeend",ae);document.getElementById("contanier-max-price").insertAdjacentHTML("beforeend",re);const le=`whatsapp://send?text=El precio de la luz a las ${o}:${l} es de ${D.toFixed(3)} \u20AC/kWh https://www.apaga-luz.com/?utm_source=whatsapp`,ie=document.getElementById("btn-whatsapp");ie.href=le;const ce=`whatsapp://send?text=
\u{1F449}\u{1F3FB} Para el ${i.toLocaleDateString("es-ES",A)}:%0a\u{1F4A1} El precio medio de la luz es de ${m.toFixed(3)} \u20AC/kWh %0a\u2705 La hora m\xE1s barata es a las ${b.hour}:00 - ${b.price.toFixed(3)} \u20AC/kWh %0a\u{1F6A8} La hora m\xE1s cara es a las ${z.hour}:00 - ${z.price.toFixed(3)} \u20AC/kWh %0ahttps://www.apaga-luz.com/?utm_source=whatsapp_avg`,se=document.getElementById("btn-whatsapp-avg");se.href=ce;let s=document.documentElement;document.getElementById("tramos").addEventListener("change",t=>{const{target:{checked:e}}=t;document.querySelectorAll(".container-table-price-element-hour").forEach(L=>{e?L.classList.remove("tramo-hidden"):L.classList.add("tramo-hidden")})});document.getElementById("color-blindness").addEventListener("change",t=>{const{target:{checked:e}}=t;if(e){s.style.setProperty("--orange-light","rgb(255, 176, 0)"),s.style.setProperty("--green-light","rgb(100, 143, 255)"),s.style.setProperty("--red-light","rgb(220, 38, 127)");const u=d==="VALLE"?"rgb(100, 143, 255)":d==="llano"?"rgb(255, 176, 0)":"rgb(220, 38, 127)";v.style.backgroundColor=u,E.style.backgroundColor=u}else s.style.setProperty("--orange-light","#ffae3ab3"),s.style.setProperty("--green-light","#a2fcc1b3"),s.style.setProperty("--red-light","#ec1d2fb3"),v.style.backgroundColor=h(d),E.style.backgroundColor=h(d)});S();
